@use 'variables' as *;

// General body styles
body {
	background-color: #f0f0f0; // Use a light gray for the page background
	color: $color-text;
}

// Main site container
.site {
	padding: 0 $spacing-unit; // Add padding on the sides
}

// When the layout is "Boxed"
.layout-boxed .site {
	max-width: $content-width + 40px;
	margin: 0 auto;
	background-color: #fff;
	padding: $spacing-unit * 2;
}

// When the layout is "Full Width"
.layout-full-width .site {
	max-width: 100%;
}

// --- THIS IS THE NEW SIDEBAR LAYOUT GRID ---

// When a sidebar is active, turn the .site container into a grid
.layout-sidebar-left .site,
.layout-sidebar-right .site,
.layout-sidebar-both .site,
.layout-sidebar-double-right .site {
	display: grid;
	grid-template-columns: repeat(12, 1fr); // A 12-column grid
	grid-column-gap: $spacing-unit;
}

// Assign elements to grid columns based on the layout
.layout-sidebar-right .site {
	#primary { grid-column: 1 / 9; }   // Content takes 8 columns
	#secondary { grid-column: 9 / 13; } // Sidebar takes 4 columns
}

.layout-sidebar-left .site {
	#primary { grid-column: 5 / 13; } // Content takes 8 columns
	#secondary {
		grid-column: 1 / 5;   // Sidebar takes 4 columns
		grid-row: 1;          // Ensure sidebar is in the first row
	}
}

.layout-sidebar-both .site {
	#primary { grid-column: 4 / 10; } // Content takes 6 columns
	#secondary {
		grid-column: 1 / 4;   // Left sidebar takes 3 columns
		grid-row: 1;
	}
	#tertiary { grid-column: 10 / 13; } // Right sidebar takes 3 columns
}

.layout-sidebar-double-right .site {
	#primary { grid-column: 1 / 7; } // Content takes 6 columns
	#secondary { grid-column: 7 / 10; } // First right sidebar takes 3
	#tertiary { grid-column: 10 / 13; } // Second right sidebar takes 3
}


// --- Original Styles ---

// This structure is still needed for Wide/Full block breakouts
.site-main > * {
	display: grid;
	grid-template-columns: 1fr min($content-width, 100%) 1fr;

	> * {
		grid-column: 2;
	}
}

.alignwide { /* etc. */ }
.alignfull { /* etc. */ }

// Styles for individual articles in the blog list
.post {
	padding-bottom: $spacing-unit;
	margin-bottom: $spacing-unit;
	border-bottom: 1px solid $color-border;
}